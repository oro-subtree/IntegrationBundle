{#
    Edit channel form
    Custom renderer needed due to this form should be modified
    dynamically via ajax depends on type and transportType fields value
#}
{% block oro_integration_channel_form_widget %}
    {{ form_row(form.type) }}
    {{ form_row(form.name) }}

    {{ form_row(form.transportType) }}

    {% if (form.transport is defined) %}
        {{ form_widget(form.transport) }}
    {% endif %}

    {{ form_row(form.connectors) }}

    {{ form_rest(form) }}
    <script type="text/javascript">
        require(['oro/integration/channel-view'], function (ChannelView) {
            "use strict";

            $(function () {
                var options = {
                    typeSelector: $('#{{ form.type.vars.id }}'),
                    transportTypeSelector: $('#{{ form.transportType.vars.id }}')
                };

                new ChannelView(options);
            });
        });
    </script>
{% endblock %}
